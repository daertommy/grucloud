// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

exports.createResources = () => [
  {
    type: "Role",
    group: "IAM",
    properties: ({}) => ({
      RoleName:
        "ScheduleEc2InstancesStartAnd-schedulerrole9B80A9F3-5BUXY937EA95",
      AssumeRolePolicyDocument: {
        Statement: [
          {
            Action: "sts:AssumeRole",
            Effect: "Allow",
            Principal: {
              Service: "scheduler.amazonaws.com",
            },
          },
        ],
        Version: "2012-10-17",
      },
      Policies: [
        {
          PolicyDocument: {
            Statement: [
              {
                Action: ["ec2:startInstances", "ec2:stopInstances"],
                Effect: "Allow",
                Resource: "*",
              },
            ],
            Version: "2012-10-17",
          },
          PolicyName: "ScheduleToStopEC2Instances",
        },
      ],
    }),
  },
  {
    type: "Schedule",
    group: "Scheduler",
    properties: ({}) => ({
      Description: "Event that start instances",
      FlexibleTimeWindow: {
        Mode: "OFF",
      },
      GroupName: "instance-manager",
      Name: "ScheduleEc2InstancesStartAndStopSta-startinstances-1AVHSM49YU1GK",
      ScheduleExpression: "cron(0 7 ? * MON-FRI *)",
      ScheduleExpressionTimezone: "Europe/London",
      Target: {
        Arn: "arn:aws:scheduler:::aws-sdk:ec2:startInstances",
        Input: {
          InstanceIds: ["i-0592cdaf40c14c22a"],
        },
        RetryPolicy: {
          MaximumEventAgeInSeconds: 86400,
          MaximumRetryAttempts: 185,
        },
      },
    }),
    dependencies: ({}) => ({
      iamRole:
        "ScheduleEc2InstancesStartAnd-schedulerrole9B80A9F3-5BUXY937EA95",
      scheduleGroup: "instance-manager",
      sqsQueueDeadLetter: "instance-manager-dlq",
    }),
  },
  {
    type: "Schedule",
    group: "Scheduler",
    properties: ({}) => ({
      Description: "Event that will stop instances",
      FlexibleTimeWindow: {
        Mode: "OFF",
      },
      GroupName: "instance-manager",
      Name: "ScheduleEc2InstancesStartAndStopStac-stopinstances-C1I334WEX2O0",
      ScheduleExpression: "cron(0 18 ? * MON-FRI *)",
      ScheduleExpressionTimezone: "Europe/London",
      Target: {
        Arn: "arn:aws:scheduler:::aws-sdk:ec2:stopInstances",
        Input: {
          InstanceIds: ["i-0592cdaf40c14c22a"],
        },
        RetryPolicy: {
          MaximumEventAgeInSeconds: 86400,
          MaximumRetryAttempts: 185,
        },
      },
    }),
    dependencies: ({}) => ({
      iamRole:
        "ScheduleEc2InstancesStartAnd-schedulerrole9B80A9F3-5BUXY937EA95",
      scheduleGroup: "instance-manager",
      sqsQueueDeadLetter: "instance-manager-dlq",
    }),
  },
  {
    type: "ScheduleGroup",
    group: "Scheduler",
    properties: ({}) => ({
      Name: "instance-manager",
    }),
  },
  {
    type: "Queue",
    group: "SQS",
    properties: ({}) => ({
      QueueName: "instance-manager-dlq",
    }),
  },
];
