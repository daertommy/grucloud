// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

exports.createResources = () => [
  {
    type: "Role",
    group: "IAM",
    name: "sam-app-MyStateMachineExecutionRole-QOU5CX1BS6DH",
    properties: ({ config }) => ({
      AssumeRolePolicyDocument: {
        Version: "2012-10-17",
        Statement: [
          {
            Effect: "Allow",
            Principal: {
              Service: `states.${config.region}.amazonaws.com`,
            },
            Action: "sts:AssumeRole",
          },
        ],
      },
      Policies: [
        {
          PolicyDocument: {
            Version: "2012-10-17",
            Statement: [
              {
                Action: ["sqs:SendMessage"],
                Resource: `arn:aws:sqs:${
                  config.region
                }:${config.accountId()}:sam-app-MyQueue-AqSTiBlPUT32`,
                Effect: "Allow",
              },
            ],
          },
          PolicyName: "SQSPolicy",
        },
      ],
    }),
    dependencies: () => ({
      queue: "sam-app-MyQueue-AqSTiBlPUT32",
    }),
  },
  {
    type: "StateMachine",
    group: "StepFunctions",
    name: "StateMachinetoSQS-Fy79sSx0sTLU",
    properties: ({ config }) => ({
      definition: {
        StartAt: "SendToMyQueue",
        States: {
          SendToMyQueue: {
            End: true,
            Parameters: {
              "MessageBody.$": "$.message",
              QueueUrl: `https://sqs.${
                config.region
              }.amazonaws.com/${config.accountId()}/sam-app-MyQueue-AqSTiBlPUT32`,
            },
            Resource: `arn:aws:states:::sqs:sendMessage`,
            Type: "Task",
          },
        },
      },
      tags: [
        {
          key: "stateMachine:createdBy",
          value: "SAM",
        },
      ],
    }),
    dependencies: () => ({
      role: "sam-app-MyStateMachineExecutionRole-QOU5CX1BS6DH",
      sqsQueues: ["sam-app-MyQueue-AqSTiBlPUT32"],
    }),
  },
  { type: "Queue", group: "SQS", name: "sam-app-MyQueue-AqSTiBlPUT32" },
];
