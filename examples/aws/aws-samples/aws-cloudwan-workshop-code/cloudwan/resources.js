// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

exports.createResources = () => [
  {
    type: "CoreNetwork",
    group: "NetworkManager",
    name: "CloudWAN Workshop",
    properties: ({}) => ({
      PolicyDocument: {
        "core-network-configuration": {
          "vpn-ecmp-support": false,
          "asn-ranges": ["64512-64555"],
          "edge-locations": [
            {
              location: "us-east-1",
              asn: 64512,
            },
            {
              location: "eu-west-1",
              asn: 64513,
            },
          ],
        },
        "attachment-policies": [
          {
            "rule-number": 100,
            action: {
              "association-method": "constant",
              segment: "nonprod",
            },
            conditions: [
              {
                type: "tag-exists",
                key: "nonprod",
              },
            ],
          },
          {
            "rule-number": 200,
            action: {
              "association-method": "constant",
              segment: "prod",
            },
            conditions: [
              {
                type: "tag-exists",
                key: "prod",
              },
            ],
          },
          {
            "rule-number": 300,
            action: {
              "association-method": "constant",
              segment: "shared",
            },
            conditions: [
              {
                type: "tag-exists",
                key: "inspection",
              },
            ],
          },
        ],
        version: "2021.12",
        "segment-actions": [
          {
            mode: "attachment-route",
            segment: "shared",
            action: "share",
            "share-with": "*",
          },
        ],
        segments: [
          {
            name: "shared",
            description: "Segment for shared services",
          },
          {
            name: "prod",
            description: "Segment for prod services",
          },
          {
            name: "nonprod",
            description: "Segment for non-prod services",
          },
        ],
      },
      Description: "CloudWAN Workshop Core Network",
    }),
    dependencies: ({}) => ({
      globalNetwork: "CloudWAN Workshop",
    }),
  },
  {
    type: "GlobalNetwork",
    group: "NetworkManager",
    name: "CloudWAN Workshop",
    properties: ({}) => ({
      Description: "CloudWAN Workshop Global Network",
    }),
  },
  {
    type: "SiteToSiteVpnAttachment",
    group: "NetworkManager",
    properties: ({}) => ({
      AttachmentType: "SITE_TO_SITE_VPN",
      EdgeLocation: "us-east-1",
      OwnerAccountId: "840541460064",
    }),
    dependencies: ({}) => ({
      coreNetwork: "CloudWAN Workshop",
      vpnConnection: { name: "vpn-connection", provider: "aws-primary" },
    }),
  },
  {
    type: "SiteToSiteVpnAttachment",
    group: "NetworkManager",
    properties: ({}) => ({
      AttachmentType: "SITE_TO_SITE_VPN",
      EdgeLocation: "us-east-1",
      OwnerAccountId: "840541460064",
    }),
    dependencies: ({}) => ({
      coreNetwork: "CloudWAN Workshop",
      vpnConnection: { name: "vpn-connection", provider: "aws-primary" },
    }),
  },
  {
    type: "VpcAttachment",
    group: "NetworkManager",
    properties: ({}) => ({
      AttachmentType: "VPC",
      EdgeLocation: "us-east-1",
      OwnerAccountId: "840541460064",
      Options: {
        ApplianceModeSupport: false,
        Ipv6Support: false,
      },
    }),
    dependencies: ({}) => ({
      coreNetwork: "CloudWAN Workshop",
      vpc: { name: "inspection-us-east-1", provider: "aws-primary" },
      subnets: [
        {
          name: "inspection-us-east-1::inspection-us-east-1b",
          provider: "aws-primary",
        },
        {
          name: "inspection-us-east-1::inspection-us-east-1a",
          provider: "aws-primary",
        },
      ],
    }),
  },
];
