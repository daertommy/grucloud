// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

exports.createResources = () => [
  {
    type: "Domain",
    group: "OpenSearch",
    properties: ({ config }) => ({
      AccessPolicies: {
        Statement: [
          {
            Action: "es:*",
            Effect: "Deny",
            Principal: {
              AWS: "*",
            },
            Resource: `arn:aws:es:${
              config.region
            }:${config.accountId()}:domain/my-domain/*`,
          },
        ],
        Version: "2012-10-17",
      },
      AdvancedSecurityOptions: {
        AnonymousAuthEnabled: false,
        Enabled: true,
        InternalUserDatabaseEnabled: true,
        MasterUserOptions: {
          MasterUserName: process.env.MY_DOMAIN_MASTER_USERNAME,
          MasterUserPassword: process.env.MY_DOMAIN_MASTER_USER_PASSWORD,
        },
      },
      ClusterConfig: {
        ColdStorageOptions: {
          Enabled: false,
        },
        DedicatedMasterEnabled: false,
        InstanceCount: 3,
        InstanceType: "t3.small.search",
        MultiAZWithStandbyEnabled: false,
        WarmEnabled: false,
        ZoneAwarenessEnabled: false,
      },
      DomainEndpointOptions: {
        CustomEndpointEnabled: false,
        EnforceHTTPS: true,
      },
      DomainName: "my-domain",
      EngineVersion: "OpenSearch_2.3",
      SoftwareUpdateOptions: {
        AutoSoftwareUpdateEnabled: false,
      },
    }),
  },
];
