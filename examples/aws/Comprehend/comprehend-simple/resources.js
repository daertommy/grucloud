// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

exports.createResources = () => [
  {
    type: "DocumentClassifier",
    group: "Comprehend",
    properties: ({}) => ({
      InputDataConfig: {
        DataFormat: "COMPREHEND_CSV",
        S3Uri: "s3://gc-comprehend-dataset",
      },
      LanguageCode: "en",
      Mode: "MULTI_CLASS",
      OutputDataConfig: {},
      DocumentClassifierName: "my-model",
    }),
    dependencies: ({}) => ({
      iamRole: "AmazonComprehendServiceRole-comprehend",
      s3BucketInput: "gc-comprehend-dataset",
    }),
  },
  {
    type: "EntityRecognizer",
    group: "Comprehend",
    properties: ({}) => ({
      InputDataConfig: {
        Annotations: {
          S3Uri: "s3://gc-comprehend-annotation",
        },
        DataFormat: "COMPREHEND_CSV",
        Documents: {
          InputFormat: "ONE_DOC_PER_LINE",
          S3Uri: "s3://gc-comprehend-dataset",
        },
        EntityTypes: [
          {
            Type: "engineer",
          },
        ],
      },
      LanguageCode: "en",
      RecognizerName: "my-entity-recognizer",
    }),
    dependencies: ({}) => ({
      iamRole: "AmazonComprehendServiceRole-entity-recognizer",
      s3BucketAnnotation: "gc-comprehend-annotation",
      s3BucketDocument: "gc-comprehend-dataset",
    }),
  },
  {
    type: "Role",
    group: "IAM",
    properties: ({}) => ({
      RoleName: "AmazonComprehendServiceRole-comprehend",
      Description:
        "Amazon Comprehend service role for creating custom models and analysis jobs.",
      Path: "/service-role/",
      AssumeRolePolicyDocument: {
        Version: "2012-10-17",
        Statement: [
          {
            Effect: "Allow",
            Principal: {
              Service: "comprehend.amazonaws.com",
            },
            Action: "sts:AssumeRole",
          },
        ],
      },
    }),
    dependencies: ({}) => ({
      policies: ["AmazonComprehendServicePolicy-comprehend"],
    }),
  },
  {
    type: "Role",
    group: "IAM",
    properties: ({}) => ({
      RoleName: "AmazonComprehendServiceRole-entity-recognizer",
      Description:
        "Amazon Comprehend service role for creating custom models and analysis jobs.",
      Path: "/service-role/",
      AssumeRolePolicyDocument: {
        Version: "2012-10-17",
        Statement: [
          {
            Effect: "Allow",
            Principal: {
              Service: "comprehend.amazonaws.com",
            },
            Action: "sts:AssumeRole",
          },
        ],
      },
    }),
    dependencies: ({}) => ({
      policies: ["AmazonComprehendServicePolicy-entity-recognizer"],
    }),
  },
  {
    type: "Policy",
    group: "IAM",
    properties: ({}) => ({
      PolicyName: "AmazonComprehendServicePolicy-comprehend",
      PolicyDocument: {
        Version: "2012-10-17",
        Statement: [
          {
            Action: "s3:GetObject",
            Resource: ["arn:aws:s3:::gc-comprehend-dataset/*"],
            Effect: "Allow",
          },
          {
            Action: "s3:ListBucket",
            Resource: ["arn:aws:s3:::gc-comprehend-dataset"],
            Effect: "Allow",
          },
        ],
      },
      Path: "/service-role/",
    }),
  },
  {
    type: "Policy",
    group: "IAM",
    properties: ({}) => ({
      PolicyName: "AmazonComprehendServicePolicy-entity-recognizer",
      PolicyDocument: {
        Version: "2012-10-17",
        Statement: [
          {
            Action: "s3:GetObject",
            Resource: ["arn:aws:s3:::gc-comprehend-dataset/*"],
            Effect: "Allow",
          },
          {
            Action: "s3:ListBucket",
            Resource: ["arn:aws:s3:::gc-comprehend-dataset"],
            Effect: "Allow",
          },
        ],
      },
      Path: "/service-role/",
    }),
  },
  {
    type: "Bucket",
    group: "S3",
    properties: ({}) => ({
      Name: "gc-comprehend-annotation",
      ServerSideEncryptionConfiguration: {
        Rules: [
          {
            ApplyServerSideEncryptionByDefault: {
              SSEAlgorithm: "AES256",
            },
            BucketKeyEnabled: true,
          },
        ],
      },
    }),
  },
  {
    type: "Bucket",
    group: "S3",
    properties: ({}) => ({
      Name: "gc-comprehend-dataset",
      ServerSideEncryptionConfiguration: {
        Rules: [
          {
            ApplyServerSideEncryptionByDefault: {
              SSEAlgorithm: "AES256",
            },
            BucketKeyEnabled: true,
          },
        ],
      },
    }),
  },
];
