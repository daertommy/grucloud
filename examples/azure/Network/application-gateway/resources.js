// Generated by 'gc gencode'
const {} = require("rubico");
const {} = require("rubico/x");

const createResources = ({ provider }) => {
  provider.Compute.makeSshPublicKey({
    name: "rg-ag::admingrucloud",
    properties: ({}) => ({
      properties: {
        publicKey:
          "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDJIm/qoOB61JXbMH7c9jcaVdBJ\r\nQ8NwwIyWfOIklNQG80JFQKQlc/pO1wS30+WlNhjLFXCokZdrJmDzry68BAz92lJ4\r\nTQHRZoZmzsjs40bIQ1xTw72w+LT/eMj2YJIMvKcokIOY/ZziKYwEhGjJCv7Gg2Da\r\nyHN8mbxMs6IL35Q80lJJBrc91AZ/ZplZFu07GySY78+JuNFI+WqO5ltNHduf+u1u\r\nrHrT7NbwDAhTsV7PaP9/q9u8iWJyglH8QfTyNMjciMxTHxjgDFV9xPfsyaMaB8tf\r\nkcSNx9rAmtH62D3FWup8gvGs4PHUoSIihvogtEWyLquQqP4CJUUcLjE7xSIDdZ5R\r\nuqo5Xf1nfBQXdB7atwT8rSEm9CdpSlcWbJ4yzeki9IUMR8iPnHB27lxuBlyHiYPL\r\n8vSXe1ofbl7J0NErjjoyDn1x75hDZGHX9VLh1BMz03DkJ5+zKRtwWYHozQvi7AA8\r\nIRDzslT6+u/ZwpkfbPlwyh8pQFBOTn2l3SlupLk= generated-by-azure\r\n",
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
    }),
  });

  provider.Compute.makeVirtualMachineScaleSet({
    name: "rg-ag::vmss",
    properties: ({ getId }) => ({
      sku: {
        name: "Standard_B1ls",
        tier: "Standard",
        capacity: 1,
      },
      properties: {
        singlePlacementGroup: false,
        upgradePolicy: {
          mode: "Manual",
        },
        scaleInPolicy: {
          rules: ["Default"],
        },
        virtualMachineProfile: {
          osProfile: {
            computerNamePrefix: "vmssscr3w",
            adminUsername: "azureuser",
            linuxConfiguration: {
              disablePasswordAuthentication: true,
              ssh: {
                publicKeys: [
                  {
                    path: "/home/azureuser/.ssh/authorized_keys",
                  },
                ],
              },
              provisionVMAgent: true,
            },
            allowExtensionOperations: true,
            adminPassword: process.env.RG_AG_VMSS_ADMIN_PASSWORD,
          },
          storageProfile: {
            osDisk: {
              osType: "Linux",
              createOption: "FromImage",
              caching: "ReadWrite",
              managedDisk: {
                storageAccountType: "Premium_LRS",
              },
              diskSizeGB: 30,
            },
            imageReference: {
              publisher: "canonical",
              offer: "0001-com-ubuntu-server-focal",
              sku: "20_04-lts",
              version: "latest",
            },
          },
          diagnosticsProfile: {
            bootDiagnostics: {
              enabled: true,
            },
          },
          networkProfile: {
            networkInterfaceConfigurations: [
              {
                name: "vnet-nic01",
                properties: {
                  primary: true,
                  enableAcceleratedNetworking: false,
                  networkSecurityGroup: {
                    id: getId({
                      type: "NetworkSecurityGroup",
                      group: "Network",
                      name: "rg-ag::basicnsgvnet-nic01",
                    }),
                  },
                  dnsSettings: {
                    dnsServers: [],
                  },
                  enableIPForwarding: false,
                  ipConfigurations: [
                    {
                      name: "vnet-nic01-defaultIpConfiguration",
                      properties: {
                        primary: true,
                        subnet: {
                          id: getId({
                            type: "Subnet",
                            group: "Network",
                            name: "rg-ag::vnet::default",
                          }),
                        },
                        privateIPAddressVersion: "IPv4",
                        applicationGatewayBackendAddressPools: [
                          {
                            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/backendAddressPools/backendpool",
                          },
                        ],
                      },
                    },
                  ],
                },
              },
            ],
          },
        },
        overprovision: false,
        doNotRunExtensionsOnOverprovisionedVMs: false,
        platformFaultDomainCount: 1,
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
      subnets: [resources.Network.Subnet["rg-ag::vnet::default"]],
      sshPublicKeys: [resources.Compute.SshPublicKey["rg-ag::admingrucloud"]],
      networkSecurityGroups: [
        resources.Network.NetworkSecurityGroup["rg-ag::basicnsgvnet-nic01"],
      ],
    }),
  });

  provider.Network.makeApplicationGateway({
    name: "rg-ag::ag",
    properties: ({ getId }) => ({
      properties: {
        provisioningState: "Succeeded",
        resourceGuid: "0cf0c4c5-e8d7-4024-b523-d5ef5cf34682",
        sku: {
          name: "Standard_v2",
          tier: "Standard_v2",
        },
        operationalState: "Running",
        gatewayIPConfigurations: [
          {
            name: "appGatewayIpConfig",
            properties: {
              subnet: {
                id: getId({
                  type: "Subnet",
                  group: "Network",
                  name: "rg-ag::vnet::subnet-ag",
                }),
              },
            },
          },
        ],
        sslCertificates: [],
        trustedRootCertificates: [],
        trustedClientCertificates: [],
        sslProfiles: [],
        frontendIPConfigurations: [
          {
            name: "appGwPublicFrontendIp",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/frontendIPConfigurations/appGwPublicFrontendIp",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            type: "Microsoft.Network/applicationGateways/frontendIPConfigurations",
            properties: {
              provisioningState: "Succeeded",
              privateIPAllocationMethod: "Dynamic",
              publicIPAddress: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/publicIPAddresses/ip",
              },
              httpListeners: [
                {
                  id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/httpListeners/listener",
                },
              ],
            },
          },
        ],
        frontendPorts: [
          {
            name: "port_80",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/frontendPorts/port_80",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            properties: {
              provisioningState: "Succeeded",
              port: 80,
              httpListeners: [
                {
                  id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/httpListeners/listener",
                },
              ],
            },
            type: "Microsoft.Network/applicationGateways/frontendPorts",
          },
        ],
        backendAddressPools: [
          {
            name: "backendpool",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/backendAddressPools/backendpool",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            properties: {
              provisioningState: "Succeeded",
              backendAddresses: [],
              requestRoutingRules: [
                {
                  id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/requestRoutingRules/rule",
                },
              ],
            },
            type: "Microsoft.Network/applicationGateways/backendAddressPools",
          },
        ],
        loadDistributionPolicies: [],
        backendHttpSettingsCollection: [
          {
            name: "http-settings",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/backendHttpSettingsCollection/http-settings",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            properties: {
              provisioningState: "Succeeded",
              port: 80,
              protocol: "Http",
              cookieBasedAffinity: "Disabled",
              pickHostNameFromBackendAddress: false,
              requestTimeout: 20,
              requestRoutingRules: [
                {
                  id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/requestRoutingRules/rule",
                },
              ],
            },
            type: "Microsoft.Network/applicationGateways/backendHttpSettingsCollection",
          },
        ],
        httpListeners: [
          {
            name: "listener",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/httpListeners/listener",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            properties: {
              provisioningState: "Succeeded",
              frontendIPConfiguration: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/frontendIPConfigurations/appGwPublicFrontendIp",
              },
              frontendPort: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/frontendPorts/port_80",
              },
              protocol: "Http",
              hostNames: [],
              requireServerNameIndication: false,
              requestRoutingRules: [
                {
                  id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/requestRoutingRules/rule",
                },
              ],
            },
            type: "Microsoft.Network/applicationGateways/httpListeners",
          },
        ],
        urlPathMaps: [],
        requestRoutingRules: [
          {
            name: "rule",
            id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/requestRoutingRules/rule",
            etag: 'W/"aa450718-c43b-4501-a577-af2d80e1aa09"',
            properties: {
              provisioningState: "Succeeded",
              ruleType: "Basic",
              httpListener: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/httpListeners/listener",
              },
              backendAddressPool: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/backendAddressPools/backendpool",
              },
              backendHttpSettings: {
                id: "/subscriptions/e012cd34-c794-4e35-916f-f38dcd8ac45c/resourceGroups/rg-ag/providers/Microsoft.Network/applicationGateways/ag/backendHttpSettingsCollection/http-settings",
              },
            },
            type: "Microsoft.Network/applicationGateways/requestRoutingRules",
          },
        ],
        probes: [],
        rewriteRuleSets: [],
        redirectConfigurations: [],
        privateLinkConfigurations: [],
        privateEndpointConnections: [],
        enableHttp2: false,
        autoscaleConfiguration: {
          minCapacity: 0,
          maxCapacity: 10,
        },
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
      subnets: [resources.Network.Subnet["rg-ag::vnet::subnet-ag"]],
      publicIpAddresses: [resources.Network.PublicIPAddress["rg-ag::ip"]],
    }),
  });

  provider.Network.makeNetworkSecurityGroup({
    name: "rg-ag::basicnsgvnet-nic01",
    properties: ({}) => ({
      properties: {
        securityRules: [],
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
    }),
  });

  provider.Network.makePublicIPAddress({
    name: "rg-ag::ip",
    properties: ({}) => ({
      sku: {
        name: "Standard",
      },
      properties: {
        publicIPAllocationMethod: "Static",
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
    }),
  });

  provider.Network.makeSubnet({
    name: "rg-ag::vnet::default",
    properties: ({}) => ({
      name: "default",
      properties: {
        addressPrefix: "10.0.0.0/24",
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
      virtualNetwork: resources.Network.VirtualNetwork["rg-ag::vnet"],
    }),
  });

  provider.Network.makeSubnet({
    name: "rg-ag::vnet::subnet-ag",
    properties: ({}) => ({
      name: "subnet-ag",
      properties: {
        addressPrefix: "10.0.1.0/24",
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
      virtualNetwork: resources.Network.VirtualNetwork["rg-ag::vnet"],
    }),
  });

  provider.Network.makeVirtualNetwork({
    name: "rg-ag::vnet",
    properties: ({}) => ({
      properties: {
        addressSpace: {
          addressPrefixes: ["10.0.0.0/16"],
        },
      },
    }),
    dependencies: ({ resources }) => ({
      resourceGroup: resources.Resources.ResourceGroup["rg-ag"],
    }),
  });

  provider.Resources.makeResourceGroup({
    name: "rg-ag",
  });
};

exports.createResources = createResources;
