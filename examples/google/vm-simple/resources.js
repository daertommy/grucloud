// Generated by 'gc gencode'
const { pipe, tap, get, eq, and } = require("rubico");
const { find } = require("rubico/x");

const createResources = ({ provider }) => {
  provider.compute.makeVmInstance({
    name: "web-server",
    properties: ({ config }) => ({
      tags: {},
      machineType: "f1-micro",
      canIpForward: false,
      metadata: {
        items: [
          {
            key: "enable-oslogin",
            value: "True",
          },
        ],
      },
      labels: {
        "managed-by": "grucloud",
        "gc-stage": "dev",
      },
      startRestricted: false,
      deletionProtection: false,
      reservationAffinity: {
        consumeReservationType: "ANY_RESERVATION",
      },
      displayDevice: {
        enableDisplay: false,
      },
      shieldedInstanceConfig: {
        enableSecureBoot: false,
        enableVtpm: true,
        enableIntegrityMonitoring: true,
      },
      shieldedInstanceIntegrityPolicy: {
        updateAutoLearnPolicy: true,
      },
      confidentialInstanceConfig: {
        enableConfidentialCompute: false,
      },
      sourceImage:
        "projects/ubuntu-os-cloud/global/images/ubuntu-2004-focal-v20210927",
    }),
  });
};

exports.createResources = createResources;
